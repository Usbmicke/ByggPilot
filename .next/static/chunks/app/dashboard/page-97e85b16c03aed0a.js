(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{2650:function(e,t,s){Promise.resolve().then(s.bind(s,546))},2351:function(e,t,s){"use strict";s.d(t,{H:function(){return o},a:function(){return c}});var r=s(7437),a=s(2265),l=s(3301),n=s(307);let i=(0,a.createContext)(void 0),o=e=>{let{children:t}=e,[s,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=(0,l.Aj)(n.I,async e=>{if(o(e),d(!1),e)try{let t=await e.getIdToken(!0);await fetch("/api/auth/session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:t})}),console.log("Session cookie created successfully.")}catch(e){console.error("Failed to create session cookie:",e)}});return()=>e()},[]);let u=async()=>{d(!0);let e=new l.hJ;e.addScope("https://www.googleapis.com/auth/drive"),e.addScope("https://www.googleapis.com/auth/calendar"),e.addScope("https://www.googleapis.com/auth/gmail.readonly");try{await (0,l.rh)(n.I,e)}catch(e){console.error("Popup login failed:",e),d(!1)}},x=async()=>{await (0,l.w7)(n.I);try{await fetch("/api/auth/signout",{method:"POST"}),console.log("Session cookie cleared successfully.")}catch(e){console.error("Failed to clear session cookie:",e)}};return(0,r.jsx)(i.Provider,{value:{user:s,loading:c,login:u,logout:x},children:t})},c=()=>{let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},546:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var r=s(7437);s(2265);let a=e=>{let{name:t,customer:s,status:a,progress:l,nextEvent:n}=e,i={"I fas":{color:"border-status-green",text:"text-status-green"},"Beh\xf6ver tillsyn":{color:"border-status-yellow",text:"text-status-yellow"},Kritisk:{color:"border-status-red",text:"text-status-red"}};return(0,r.jsxs)("div",{className:"bg-card-background-color p-4 rounded-lg shadow-lg border-l-4 ".concat(i[a].color," flex flex-col gap-3 transition-all hover:transform hover:-translate-y-1 hover:shadow-glow cursor-pointer"),children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold text-md",children:t}),(0,r.jsx)("p",{className:"text-text-muted text-sm",children:s})]}),(0,r.jsx)("p",{className:"font-semibold text-sm ".concat(i[a].text),children:a})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-1 text-sm",children:[(0,r.jsx)("span",{className:"text-text-muted",children:"Framsteg"}),(0,r.jsxs)("span",{children:[l,"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-secondary-bg rounded-full h-2.5",children:(0,r.jsx)("div",{className:"bg-primary-accent-color h-2.5 rounded-full",style:{width:"".concat(l,"%")}})})]}),(0,r.jsxs)("p",{className:"text-sm text-text-muted mt-1",children:[(0,r.jsx)("span",{className:"font-semibold",children:"N\xe4sta:"})," ",n]})]})};var l=s(2351);let n=()=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),i=()=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),o=e=>{let{title:t,children:s}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:t}),(0,r.jsx)("div",{className:"bg-card-background-color p-6 rounded-lg shadow-lg",children:s})]})},c=()=>{let{user:e}=(0,l.a)(),t=(null==e?void 0:e.displayName)||"";return(0,r.jsxs)("div",{className:"text-center mb-10",children:[(0,r.jsx)(n,{}),(0,r.jsx)("h1",{className:"text-3xl font-bold mt-4",children:"Du har inget som kr\xe4ver din omedelbara uppm\xe4rksamhet."}),(0,r.jsxs)("p",{className:"text-text-muted",children:["Snyggt jobbat",t?", "+t:"","!"]})]})},d=()=>(0,r.jsxs)(o,{title:"Att G\xf6ra",children:[(0,r.jsxs)("ul",{className:"space-y-3",children:[(0,r.jsxs)("li",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded mr-3"})," Ring kund f\xf6r Villa Bj\xf6rkhem"]}),(0,r.jsxs)("li",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded mr-3"})," Best\xe4ll virke"]})]}),(0,r.jsxs)("button",{className:"text-primary-accent-color mt-4 flex items-center",children:[(0,r.jsx)(i,{})," L\xe4gg till uppgift"]})]}),u=()=>(0,r.jsx)(o,{title:"Mina Projekt",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(a,{name:"Villa Altanbygge",customer:"Anna Andersson",status:"I fas",progress:75,nextEvent:"Slutbesiktning 2025-08-20"}),(0,r.jsx)(a,{name:"Garageuppfart",customer:"BRF Solgl\xe4ntan",status:"Beh\xf6ver tillsyn",progress:20,nextEvent:"V\xe4ntar p\xe5 kundbesked"}),(0,r.jsx)(a,{name:"Fasadm\xe5lning",customer:"Erik Nilsson",status:"Kritisk",progress:90,nextEvent:"Slutfaktura f\xf6rsenad"})]})}),x=()=>(0,r.jsx)(o,{title:"Senaste H\xe4ndelser",children:(0,r.jsxs)("ul",{className:"space-y-4",children:[(0,r.jsx)("li",{className:"text-sm text-text-muted",children:'\uD83D\uDCE7 Nytt mail fr\xe5n "Kalle Svensson"'}),(0,r.jsx)("li",{className:"text-sm text-text-muted",children:'âœ… Mappstruktur skapad f\xf6r "Garageuppfart"'}),(0,r.jsx)("li",{className:"text-sm text-text-muted",children:'\uD83D\uDCC5 P\xe5minnelse tillagd: "Ring leverant\xf6r"'})]})}),m=()=>(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)(c,{})," ",(0,r.jsx)(d,{})," ",(0,r.jsx)(u,{})," ",(0,r.jsx)(x,{})," "]});var h=()=>(0,r.jsx)("div",{className:"flex-1 p-6 md:p-10",children:(0,r.jsx)(m,{})})},307:function(e,t,s){"use strict";let r,a;s.d(t,{I:function(){return a}});var l=s(738),n=s(3301),i=s(5978);r=(0,l.C6)().length?(0,l.Mq)():(0,l.ZF)({apiKey:"AIzaSyCx5NZTK6qPpj_WQpismfs92-klcxC0-Lc",authDomain:"digi-dan.firebaseapp.com",projectId:"digi-dan",storageBucket:"digi-dan.firebasestorage.app",messagingSenderId:"975739376169",appId:"1:975739376169:web:44422ef57244eeb3a3c238"}),a=(0,n.v0)(r),(0,i.ad)(r)}},function(e){e.O(0,[358,139,943,971,117,744],function(){return e(e.s=2650)}),_N_E=e.O()}]);