"use strict";(()=>{var e={};e.id=603,e.ids=[603],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},79288:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>m,patchFetch:()=>g,requestAsyncStorage:()=>c,routeModule:()=>l,serverHooks:()=>h,staticGenerationAsyncStorage:()=>d});var i={};s.r(i),s.d(i,{POST:()=>p});var r=s(49303),a=s(88716),n=s(60670),o=s(87070),u=s(37007);async function p(e){try{let t=(await e.json()).idToken;if(!t)return new Response("ID token is required",{status:400});let s=await u.Z.auth().createSessionCookie(t,{expiresIn:12096e5}),i=o.NextResponse.json({status:"success"});return i.cookies.set({name:"session",value:s,maxAge:12096e5,httpOnly:!0,secure:!0,path:"/"}),i}catch(e){return console.error("Session login error:",e),new Response("Failed to create session",{status:401})}}let l=new r.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/auth/session/route",pathname:"/api/auth/session",filename:"route",bundlePath:"app/api/auth/session/route"},resolvedPagePath:"/workspaces/ByggPilot/src/app/api/auth/session/route.ts",nextConfigOutput:"standalone",userland:i}),{requestAsyncStorage:c,staticGenerationAsyncStorage:d,serverHooks:h}=l,m="/api/auth/session/route";function g(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:d})}},37007:(e,t,s)=>{s.d(t,{Z:()=>a});let i=require("firebase-admin");var r=s.n(i);if(!r().apps.length)try{r().initializeApp({credential:r().credential.applicationDefault()}),console.log("Firebase Admin SDK initialized successfully using Application Default Credentials.")}catch(e){throw console.error("CRITICAL: Firebase Admin SDK initialization failed.",e.stack),Error("Could not initialize Firebase Admin SDK. Check server logs.")}let a=r()}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[948,972],()=>s(79288));module.exports=i})();