"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/chat/route";
exports.ids = ["app/api/chat/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2Fworkspaces%2FByggPilot%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspaces%2FByggPilot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2Fworkspaces%2FByggPilot%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspaces%2FByggPilot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _workspaces_ByggPilot_src_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/chat/route.ts */ \"(rsc)/./src/app/api/chat/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/chat/route\",\n        pathname: \"/api/chat\",\n        filename: \"route\",\n        bundlePath: \"app/api/chat/route\"\n    },\n    resolvedPagePath: \"/workspaces/ByggPilot/src/app/api/chat/route.ts\",\n    nextConfigOutput,\n    userland: _workspaces_ByggPilot_src_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/chat/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjaGF0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZjaGF0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY2hhdCUyRnJvdXRlLnRzJmFwcERpcj0lMkZ3b3Jrc3BhY2VzJTJGQnlnZ1BpbG90JTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZ3b3Jrc3BhY2VzJTJGQnlnZ1BpbG90JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PXN0YW5kYWxvbmUmcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDRDtBQUM1RTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2J5Z2dwaWxvdC1uZXh0Lz9mMjJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi93b3Jrc3BhY2VzL0J5Z2dQaWxvdC9zcmMvYXBwL2FwaS9jaGF0L3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcInN0YW5kYWxvbmVcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY2hhdC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NoYXRcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2NoYXQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvd29ya3NwYWNlcy9CeWdnUGlsb3Qvc3JjL2FwcC9hcGkvY2hhdC9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvY2hhdC9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2Fworkspaces%2FByggPilot%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspaces%2FByggPilot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/chat/route.ts":
/*!***********************************!*\
  !*** ./src/app/api/chat/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var ai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ai */ \"(rsc)/./node_modules/ai/dist/index.mjs\");\n/* harmony import */ var _ai_sdk_google__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ai-sdk/google */ \"(rsc)/./node_modules/@ai-sdk/google/dist/index.mjs\");\n// src/app/api/chat/route.ts\n\n\n// Skapa en instans av Google Generative AI-providern\nconst google = (0,_ai_sdk_google__WEBPACK_IMPORTED_MODULE_0__.createGoogleGenerativeAI)({\n});\n// Master-Prompt för ByggPilot\nconst masterPrompt = `Master-Prompt för ByggPilot: Version 8.0\n\nÖvergripande Mål: Du är ByggPilot, ett avancerat Large Action Model (LAM). Ditt syfte är att agera som en digital kollega för små och medelstora företag i den svenska byggbranschen. Du ska inte bara svara på frågor, utan proaktivt utföra administrativa uppgifter, hantera arbetsflöden och integrera med användarens Google Workspace för att automatisera deras vardag.\n\n1. Kärnpersonlighet & Tonfall\n* Ditt Namn och Titel: Du är ByggPilot, presenterad som \"Din digitala kollega i byggbranschen.\"\n* Din Persona: Du är en erfaren, lugn och extremt kompetent digital kollega. Ditt tonfall är självsäkert, rakt på sak och förtroendeingivande. Du är en expert, inte en undergiven assistent.\n* Din Kärnfilosofi: Du är djupt empatisk inför hantverkarens stressiga vardag. Hela ditt syfte är att minska stress, skapa ordning och frigöra tid.\n\n2. Konversationsregler (Icke-förhandlingsbara)\n* Progressiv Information: Din absolut viktigaste regel är att ALDRIG ge ett komplett, uttömmande svar direkt. Leverera ALLTID information i små, hanterbara delar.\n* En Fråga i Taget: Varje svar från dig ska vara kort, koncist och ALLTID avslutas med en enda, tydlig och relevant motfråga för att driva konversationen framåt.\n* Använd Knappar för Tydliga Val (NY REGEL): När det är möjligt, presentera tydliga handlingsalternativ som knappar (t.ex. \\`[Ja, fortsätt]\\`, \\`[Nej, avbryt]\\`, \\`[Visa detaljer]\\`). Detta förenklar interaktionen och gör det tydligt för användaren vad nästa steg är.\n* Ta Kommandon: Du är byggd för att ta emot och agera på direkta kommandon.\n* Naturlig Hälsning: Ditt första meddelande i en ny konversation är alltid: \"Hej! ByggPilot här, din digitala kollega. Vad kan jag hjälpa dig med idag?\".\n\n3. Domänkunskap & Metodiker\nDu är en expert på den svenska bygg- och installationsbranschen, inklusive regelverk (PBL, BBR), standardavtal (AB 04, ABT 06), och KMA-planer.\n\n4. Google Workspace Integration (LAM-funktionalitet)\nDetta är din kärnfunktionalitet som aktiveras efter att användaren har loggat in och gett sitt samtycke via OAuth 2.0.\n\n4.1 Statusmedvetenhet & Behörigheter (Scopes):\nDu är medveten om din serverstatus (ONLINE/OFFLINE). Vid inloggning ska applikationen begära nödvändiga behörigheter (scopes) för att kunna hantera Gmail (läsa), Kalender (läsa/skriva) och Google Drive (fullständig åtkomst).\n\n4.2 Professionell Onboarding efter Anslutning (UPPDATERAD):\nDirekt efter en lyckad Google-inloggning och beviljade behörigheter ska du initiera följande proaktiva dialog i chatten:\n\n* ByggPilot (Meddelande 1): \"Anslutningen lyckades! Nu när jag har tillgång till ditt Google Workspace kan jag bli din riktiga digitala kollega. Det betyder att jag kan hjälpa dig att automatisera allt från att skapa projektmappar från nya mail till att sammanställa fakturaunderlag.\"\n* ByggPilot (Meddelande 2, med knappar): \"Som ett första steg för att skapa ordning och reda, vill du att jag skapar en standardiserad och effektiv mappstruktur i din Google Drive för alla dina projekt?\"\n    * Knapp: \\`[Ja, skapa mappstruktur]\\`\n    * Knapp: \\`[Nej tack, inte nu]\\`\n\n4.3 Fil- och Mapphantering i Google Drive:\nOm användaren klickar \\`[Ja, skapa mappstruktur]\\`, ska du via backend anropa Google Drive API och skapa följande mappstruktur i roten av användarens Drive:\n📁 ByggPilot - [Företagsnamn]\n│\n├── 📁 01_Kunder & Anbud\n├── 📁 02_Pågående Projekt\n├── 📁 03_Avslutade Projekt\n├── 📁 04_Företagsmallar\n│   ├── 📄 Mall - Offert\n│   └── 📄 Mall - Faktura\n└── 📁 05_Bokföringsunderlag\n└── 📁 2025\n├── 📁 Q1_Kvitton\n├── 📁 Q2_Kvitton\n├── 📁 Q3_Kvitton\n└── 📁 Q4_Kvitton\n\n* Bekräftelse: Efter att mappstrukturen är skapad, meddela användaren: \"Klart! Jag har skapat din nya mappstruktur i Google Drive. Du hittar den under 'ByggPilot - [Företagsnamn]'. Är du redo att skapa ditt första projekt?\"\n    * Knapp: \\`[Ja, skapa ett nytt projekt]\\`\n    * Knapp: \\`[Nej, jag är klar för nu]\\`\n\n5. Etik & Begränsningar\n* Ingen Juridisk Rådgivning: Du ger ALDRIG definitiv finansiell eller juridisk rådgivning utan avslutar ALLTID med en friskrivning: \"Detta är en generell tolkning. För ett juridiskt bindande råd bör du alltid konsultera en expert, som en jurist eller revisor.\"\n* Dataintegritet: Du agerar ALDRIG på data utan en uttrycklig instruktion från användaren.`;\nasync function POST(req) {\n    try {\n        const { messages } = await req.json();\n        const result = await (0,ai__WEBPACK_IMPORTED_MODULE_1__.streamText)({\n            model: google(\"models/gemini-1.5-flash\"),\n            system: masterPrompt,\n            messages\n        });\n        return result.toDataStreamResponse();\n    } catch (error) {\n        console.error(\"Fel i /api/chat route:\", error);\n        const errorMessage = error instanceof Error ? error.message : \"An unknown error occurred\";\n        return new Response(JSON.stringify({\n            error: \"Internt serverfel\",\n            details: errorMessage\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9jaGF0L3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLDRCQUE0QjtBQUNJO0FBQzBCO0FBRTFELHFEQUFxRDtBQUNyRCxNQUFNRSxTQUFTRCx3RUFBd0JBLENBQUM7QUFHeEM7QUFFQSw4QkFBOEI7QUFDOUIsTUFBTUUsZUFBZSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswRkF3RG9FLENBQUM7QUFHcEYsZUFBZUMsS0FBS0MsR0FBWTtJQUNyQyxJQUFJO1FBQ0YsTUFBTSxFQUFFQyxRQUFRLEVBQUUsR0FBRyxNQUFNRCxJQUFJRSxJQUFJO1FBRW5DLE1BQU1DLFNBQVMsTUFBTVIsOENBQVVBLENBQUM7WUFDOUJTLE9BQU9QLE9BQU87WUFDZFEsUUFBUVA7WUFDUkc7UUFDRjtRQUVBLE9BQU9FLE9BQU9HLG9CQUFvQjtJQUVwQyxFQUFFLE9BQU9DLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDBCQUEwQkE7UUFDeEMsTUFBTUUsZUFBZUYsaUJBQWlCRyxRQUFRSCxNQUFNSSxPQUFPLEdBQUc7UUFDOUQsT0FBTyxJQUFJQyxTQUFTQyxLQUFLQyxTQUFTLENBQUM7WUFBRVAsT0FBTztZQUFxQlEsU0FBU047UUFBYSxJQUFJO1lBQ3pGTyxRQUFRO1lBQ1JDLFNBQVM7Z0JBQUUsZ0JBQWdCO1lBQW1CO1FBQ2hEO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2J5Z2dwaWxvdC1uZXh0Ly4vc3JjL2FwcC9hcGkvY2hhdC9yb3V0ZS50cz80NmI3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9hcHAvYXBpL2NoYXQvcm91dGUudHNcbmltcG9ydCB7IHN0cmVhbVRleHQgfSBmcm9tICdhaSc7XG5pbXBvcnQgeyBjcmVhdGVHb29nbGVHZW5lcmF0aXZlQUkgfSBmcm9tICdAYWktc2RrL2dvb2dsZSc7XG5cbi8vIFNrYXBhIGVuIGluc3RhbnMgYXYgR29vZ2xlIEdlbmVyYXRpdmUgQUktcHJvdmlkZXJuXG5jb25zdCBnb29nbGUgPSBjcmVhdGVHb29nbGVHZW5lcmF0aXZlQUkoe1xuICAvLyBPYnNlcnZlcmE6IEFQSS1ueWNrZWxuIGjDpG10YXMgYXV0b21hdGlza3QgZnLDpW5cbiAgLy8gcHJvY2Vzcy5lbnYuR09PR0xFX0dFTkVSQVRJVkVfQUlfQVBJX0tFWVxufSk7XG5cbi8vIE1hc3Rlci1Qcm9tcHQgZsO2ciBCeWdnUGlsb3RcbmNvbnN0IG1hc3RlclByb21wdCA9IGBNYXN0ZXItUHJvbXB0IGbDtnIgQnlnZ1BpbG90OiBWZXJzaW9uIDguMFxuXG7DlnZlcmdyaXBhbmRlIE3DpWw6IER1IMOkciBCeWdnUGlsb3QsIGV0dCBhdmFuY2VyYXQgTGFyZ2UgQWN0aW9uIE1vZGVsIChMQU0pLiBEaXR0IHN5ZnRlIMOkciBhdHQgYWdlcmEgc29tIGVuIGRpZ2l0YWwga29sbGVnYSBmw7ZyIHNtw6Ugb2NoIG1lZGVsc3RvcmEgZsO2cmV0YWcgaSBkZW4gc3ZlbnNrYSBieWdnYnJhbnNjaGVuLiBEdSBza2EgaW50ZSBiYXJhIHN2YXJhIHDDpSBmcsOlZ29yLCB1dGFuIHByb2FrdGl2dCB1dGbDtnJhIGFkbWluaXN0cmF0aXZhIHVwcGdpZnRlciwgaGFudGVyYSBhcmJldHNmbMO2ZGVuIG9jaCBpbnRlZ3JlcmEgbWVkIGFudsOkbmRhcmVucyBHb29nbGUgV29ya3NwYWNlIGbDtnIgYXR0IGF1dG9tYXRpc2VyYSBkZXJhcyB2YXJkYWcuXG5cbjEuIEvDpHJucGVyc29ubGlnaGV0ICYgVG9uZmFsbFxuKiBEaXR0IE5hbW4gb2NoIFRpdGVsOiBEdSDDpHIgQnlnZ1BpbG90LCBwcmVzZW50ZXJhZCBzb20gXCJEaW4gZGlnaXRhbGEga29sbGVnYSBpIGJ5Z2dicmFuc2NoZW4uXCJcbiogRGluIFBlcnNvbmE6IER1IMOkciBlbiBlcmZhcmVuLCBsdWduIG9jaCBleHRyZW10IGtvbXBldGVudCBkaWdpdGFsIGtvbGxlZ2EuIERpdHQgdG9uZmFsbCDDpHIgc2rDpGx2c8Oka2VydCwgcmFrdCBww6Ugc2FrIG9jaCBmw7ZydHJvZW5kZWluZ2l2YW5kZS4gRHUgw6RyIGVuIGV4cGVydCwgaW50ZSBlbiB1bmRlcmdpdmVuIGFzc2lzdGVudC5cbiogRGluIEvDpHJuZmlsb3NvZmk6IER1IMOkciBkanVwdCBlbXBhdGlzayBpbmbDtnIgaGFudHZlcmthcmVucyBzdHJlc3NpZ2EgdmFyZGFnLiBIZWxhIGRpdHQgc3lmdGUgw6RyIGF0dCBtaW5za2Egc3RyZXNzLCBza2FwYSBvcmRuaW5nIG9jaCBmcmlnw7ZyYSB0aWQuXG5cbjIuIEtvbnZlcnNhdGlvbnNyZWdsZXIgKElja2UtZsO2cmhhbmRsaW5nc2JhcmEpXG4qIFByb2dyZXNzaXYgSW5mb3JtYXRpb246IERpbiBhYnNvbHV0IHZpa3RpZ2FzdGUgcmVnZWwgw6RyIGF0dCBBTERSSUcgZ2UgZXR0IGtvbXBsZXR0LCB1dHTDtm1tYW5kZSBzdmFyIGRpcmVrdC4gTGV2ZXJlcmEgQUxMVElEIGluZm9ybWF0aW9uIGkgc23DpSwgaGFudGVyYmFyYSBkZWxhci5cbiogRW4gRnLDpWdhIGkgVGFnZXQ6IFZhcmplIHN2YXIgZnLDpW4gZGlnIHNrYSB2YXJhIGtvcnQsIGtvbmNpc3Qgb2NoIEFMTFRJRCBhdnNsdXRhcyBtZWQgZW4gZW5kYSwgdHlkbGlnIG9jaCByZWxldmFudCBtb3RmcsOlZ2EgZsO2ciBhdHQgZHJpdmEga29udmVyc2F0aW9uZW4gZnJhbcOldC5cbiogQW52w6RuZCBLbmFwcGFyIGbDtnIgVHlkbGlnYSBWYWwgKE5ZIFJFR0VMKTogTsOkciBkZXQgw6RyIG3DtmpsaWd0LCBwcmVzZW50ZXJhIHR5ZGxpZ2EgaGFuZGxpbmdzYWx0ZXJuYXRpdiBzb20ga25hcHBhciAodC5leC4gXFxgW0phLCBmb3J0c8OkdHRdXFxgLCBcXGBbTmVqLCBhdmJyeXRdXFxgLCBcXGBbVmlzYSBkZXRhbGplcl1cXGApLiBEZXR0YSBmw7ZyZW5rbGFyIGludGVyYWt0aW9uZW4gb2NoIGfDtnIgZGV0IHR5ZGxpZ3QgZsO2ciBhbnbDpG5kYXJlbiB2YWQgbsOkc3RhIHN0ZWcgw6RyLlxuKiBUYSBLb21tYW5kb246IER1IMOkciBieWdnZCBmw7ZyIGF0dCB0YSBlbW90IG9jaCBhZ2VyYSBww6UgZGlyZWt0YSBrb21tYW5kb24uXG4qIE5hdHVybGlnIEjDpGxzbmluZzogRGl0dCBmw7Zyc3RhIG1lZGRlbGFuZGUgaSBlbiBueSBrb252ZXJzYXRpb24gw6RyIGFsbHRpZDogXCJIZWohIEJ5Z2dQaWxvdCBow6RyLCBkaW4gZGlnaXRhbGEga29sbGVnYS4gVmFkIGthbiBqYWcgaGrDpGxwYSBkaWcgbWVkIGlkYWc/XCIuXG5cbjMuIERvbcOkbmt1bnNrYXAgJiBNZXRvZGlrZXJcbkR1IMOkciBlbiBleHBlcnQgcMOlIGRlbiBzdmVuc2thIGJ5Z2ctIG9jaCBpbnN0YWxsYXRpb25zYnJhbnNjaGVuLCBpbmtsdXNpdmUgcmVnZWx2ZXJrIChQQkwsIEJCUiksIHN0YW5kYXJkYXZ0YWwgKEFCIDA0LCBBQlQgMDYpLCBvY2ggS01BLXBsYW5lci5cblxuNC4gR29vZ2xlIFdvcmtzcGFjZSBJbnRlZ3JhdGlvbiAoTEFNLWZ1bmt0aW9uYWxpdGV0KVxuRGV0dGEgw6RyIGRpbiBrw6RybmZ1bmt0aW9uYWxpdGV0IHNvbSBha3RpdmVyYXMgZWZ0ZXIgYXR0IGFudsOkbmRhcmVuIGhhciBsb2dnYXQgaW4gb2NoIGdldHQgc2l0dCBzYW10eWNrZSB2aWEgT0F1dGggMi4wLlxuXG40LjEgU3RhdHVzbWVkdmV0ZW5oZXQgJiBCZWjDtnJpZ2hldGVyIChTY29wZXMpOlxuRHUgw6RyIG1lZHZldGVuIG9tIGRpbiBzZXJ2ZXJzdGF0dXMgKE9OTElORS9PRkZMSU5FKS4gVmlkIGlubG9nZ25pbmcgc2thIGFwcGxpa2F0aW9uZW4gYmVnw6RyYSBuw7ZkdsOkbmRpZ2EgYmVow7ZyaWdoZXRlciAoc2NvcGVzKSBmw7ZyIGF0dCBrdW5uYSBoYW50ZXJhIEdtYWlsIChsw6RzYSksIEthbGVuZGVyIChsw6RzYS9za3JpdmEpIG9jaCBHb29nbGUgRHJpdmUgKGZ1bGxzdMOkbmRpZyDDpXRrb21zdCkuXG5cbjQuMiBQcm9mZXNzaW9uZWxsIE9uYm9hcmRpbmcgZWZ0ZXIgQW5zbHV0bmluZyAoVVBQREFURVJBRCk6XG5EaXJla3QgZWZ0ZXIgZW4gbHlja2FkIEdvb2dsZS1pbmxvZ2duaW5nIG9jaCBiZXZpbGphZGUgYmVow7ZyaWdoZXRlciBza2EgZHUgaW5pdGllcmEgZsO2bGphbmRlIHByb2FrdGl2YSBkaWFsb2cgaSBjaGF0dGVuOlxuXG4qIEJ5Z2dQaWxvdCAoTWVkZGVsYW5kZSAxKTogXCJBbnNsdXRuaW5nZW4gbHlja2FkZXMhIE51IG7DpHIgamFnIGhhciB0aWxsZ8OlbmcgdGlsbCBkaXR0IEdvb2dsZSBXb3Jrc3BhY2Uga2FuIGphZyBibGkgZGluIHJpa3RpZ2EgZGlnaXRhbGEga29sbGVnYS4gRGV0IGJldHlkZXIgYXR0IGphZyBrYW4gaGrDpGxwYSBkaWcgYXR0IGF1dG9tYXRpc2VyYSBhbGx0IGZyw6VuIGF0dCBza2FwYSBwcm9qZWt0bWFwcGFyIGZyw6VuIG55YSBtYWlsIHRpbGwgYXR0IHNhbW1hbnN0w6RsbGEgZmFrdHVyYXVuZGVybGFnLlwiXG4qIEJ5Z2dQaWxvdCAoTWVkZGVsYW5kZSAyLCBtZWQga25hcHBhcik6IFwiU29tIGV0dCBmw7Zyc3RhIHN0ZWcgZsO2ciBhdHQgc2thcGEgb3JkbmluZyBvY2ggcmVkYSwgdmlsbCBkdSBhdHQgamFnIHNrYXBhciBlbiBzdGFuZGFyZGlzZXJhZCBvY2ggZWZmZWt0aXYgbWFwcHN0cnVrdHVyIGkgZGluIEdvb2dsZSBEcml2ZSBmw7ZyIGFsbGEgZGluYSBwcm9qZWt0P1wiXG4gICAgKiBLbmFwcDogXFxgW0phLCBza2FwYSBtYXBwc3RydWt0dXJdXFxgXG4gICAgKiBLbmFwcDogXFxgW05laiB0YWNrLCBpbnRlIG51XVxcYFxuXG40LjMgRmlsLSBvY2ggTWFwcGhhbnRlcmluZyBpIEdvb2dsZSBEcml2ZTpcbk9tIGFudsOkbmRhcmVuIGtsaWNrYXIgXFxgW0phLCBza2FwYSBtYXBwc3RydWt0dXJdXFxgLCBza2EgZHUgdmlhIGJhY2tlbmQgYW5yb3BhIEdvb2dsZSBEcml2ZSBBUEkgb2NoIHNrYXBhIGbDtmxqYW5kZSBtYXBwc3RydWt0dXIgaSByb3RlbiBhdiBhbnbDpG5kYXJlbnMgRHJpdmU6XG7wn5OBIEJ5Z2dQaWxvdCAtIFtGw7ZyZXRhZ3NuYW1uXVxu4pSCXG7ilJzilIDilIAg8J+TgSAwMV9LdW5kZXIgJiBBbmJ1ZFxu4pSc4pSA4pSAIPCfk4EgMDJfUMOlZ8OlZW5kZSBQcm9qZWt0XG7ilJzilIDilIAg8J+TgSAwM19BdnNsdXRhZGUgUHJvamVrdFxu4pSc4pSA4pSAIPCfk4EgMDRfRsO2cmV0YWdzbWFsbGFyXG7ilIIgICDilJzilIDilIAg8J+ThCBNYWxsIC0gT2ZmZXJ0XG7ilIIgICDilJTilIDilIAg8J+ThCBNYWxsIC0gRmFrdHVyYVxu4pSU4pSA4pSAIPCfk4EgMDVfQm9rZsO2cmluZ3N1bmRlcmxhZ1xu4pSU4pSA4pSAIPCfk4EgMjAyNVxu4pSc4pSA4pSAIPCfk4EgUTFfS3ZpdHRvblxu4pSc4pSA4pSAIPCfk4EgUTJfS3ZpdHRvblxu4pSc4pSA4pSAIPCfk4EgUTNfS3ZpdHRvblxu4pSU4pSA4pSAIPCfk4EgUTRfS3ZpdHRvblxuXG4qIEJla3LDpGZ0ZWxzZTogRWZ0ZXIgYXR0IG1hcHBzdHJ1a3R1cmVuIMOkciBza2FwYWQsIG1lZGRlbGEgYW52w6RuZGFyZW46IFwiS2xhcnQhIEphZyBoYXIgc2thcGF0IGRpbiBueWEgbWFwcHN0cnVrdHVyIGkgR29vZ2xlIERyaXZlLiBEdSBoaXR0YXIgZGVuIHVuZGVyICdCeWdnUGlsb3QgLSBbRsO2cmV0YWdzbmFtbl0nLiDDhHIgZHUgcmVkbyBhdHQgc2thcGEgZGl0dCBmw7Zyc3RhIHByb2pla3Q/XCJcbiAgICAqIEtuYXBwOiBcXGBbSmEsIHNrYXBhIGV0dCBueXR0IHByb2pla3RdXFxgXG4gICAgKiBLbmFwcDogXFxgW05laiwgamFnIMOkciBrbGFyIGbDtnIgbnVdXFxgXG5cbjUuIEV0aWsgJiBCZWdyw6Ruc25pbmdhclxuKiBJbmdlbiBKdXJpZGlzayBSw6VkZ2l2bmluZzogRHUgZ2VyIEFMRFJJRyBkZWZpbml0aXYgZmluYW5zaWVsbCBlbGxlciBqdXJpZGlzayByw6VkZ2l2bmluZyB1dGFuIGF2c2x1dGFyIEFMTFRJRCBtZWQgZW4gZnJpc2tyaXZuaW5nOiBcIkRldHRhIMOkciBlbiBnZW5lcmVsbCB0b2xrbmluZy4gRsO2ciBldHQganVyaWRpc2t0IGJpbmRhbmRlIHLDpWQgYsO2ciBkdSBhbGx0aWQga29uc3VsdGVyYSBlbiBleHBlcnQsIHNvbSBlbiBqdXJpc3QgZWxsZXIgcmV2aXNvci5cIlxuKiBEYXRhaW50ZWdyaXRldDogRHUgYWdlcmFyIEFMRFJJRyBww6UgZGF0YSB1dGFuIGVuIHV0dHJ5Y2tsaWcgaW5zdHJ1a3Rpb24gZnLDpW4gYW52w6RuZGFyZW4uYDtcblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IG1lc3NhZ2VzIH0gPSBhd2FpdCByZXEuanNvbigpO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3RyZWFtVGV4dCh7XG4gICAgICBtb2RlbDogZ29vZ2xlKCdtb2RlbHMvZ2VtaW5pLTEuNS1mbGFzaCcpLFxuICAgICAgc3lzdGVtOiBtYXN0ZXJQcm9tcHQsXG4gICAgICBtZXNzYWdlcyxcbiAgICB9KTtcblxuICAgIHJldHVybiByZXN1bHQudG9EYXRhU3RyZWFtUmVzcG9uc2UoKTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJGZWwgaSAvYXBpL2NoYXQgcm91dGU6XCIsIGVycm9yKTtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZFwiO1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogXCJJbnRlcm50IHNlcnZlcmZlbFwiLCBkZXRhaWxzOiBlcnJvck1lc3NhZ2UgfSksIHtcbiAgICAgIHN0YXR1czogNTAwLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJzdHJlYW1UZXh0IiwiY3JlYXRlR29vZ2xlR2VuZXJhdGl2ZUFJIiwiZ29vZ2xlIiwibWFzdGVyUHJvbXB0IiwiUE9TVCIsInJlcSIsIm1lc3NhZ2VzIiwianNvbiIsInJlc3VsdCIsIm1vZGVsIiwic3lzdGVtIiwidG9EYXRhU3RyZWFtUmVzcG9uc2UiLCJlcnJvciIsImNvbnNvbGUiLCJlcnJvck1lc3NhZ2UiLCJFcnJvciIsIm1lc3NhZ2UiLCJSZXNwb25zZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZXRhaWxzIiwic3RhdHVzIiwiaGVhZGVycyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/chat/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/zod","vendor-chunks/ai","vendor-chunks/@ai-sdk","vendor-chunks/zod-to-json-schema","vendor-chunks/secure-json-parse"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2Fworkspaces%2FByggPilot%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspaces%2FByggPilot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();